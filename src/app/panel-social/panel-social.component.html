<div class="panel-social">
  <hr>
  <p class="nombre-user">
    <img class="foto-perfil" src="../../assets/profile-pics/1.jpg"/>{{usuarioLogeado.nick}}
    &nbsp;&nbsp;<img (click)="enviarToEdit()" title="Editar cuenta" class="icono-config" src="../../assets/ajustes.png"/>
    <img (click)="mostrarLogin()" title="Cerrar Sesión" class="icono-logout" src="../../assets/logout.png"/>
  </p>
  <hr>
  <br/>
  <p *ngIf="usuarioLogeado.amigos.length==0">Tu lista de amigos está actualmente vacía.<br/><br/>

    Puedes agregar usuarios a tu lista desde el botón inferior.</p>

  <!-- Construir lista con un ngFor  *ngIf="!listaVacia" class="listaAmigos"--->
  <div class="contenido-amigos">
  <table *ngFor="let usu of usuarioLogeado.amigos">
    <tr>
      <td rowspan="2"><img class="foto-perfil" src="../../assets/profile-pics/4.jpg"></td>
      <td> {{usu.nick}} </td><td rowspan="2">
        <img  class="icono-papelera" src="../../assets/trash.png" title="Eliminar amigo"(click)="quitarAmigo(usu.id)">
      </td>
    </tr>
    <tr>{{usu.nombre}} {{usu.apellidos}}<td></td> </tr>
    <tr> <td></td> <td> <img width="10px"  src="../../assets/last.png">
      <i class="ultima-cancion"> &nbsp;<span class="enlace"  (click)="Servicio.cargarAlbum('Delain');
       Servicio.nextMessage3(true);">Ultima Canción</span> · Ultimo Artista</i> </td>
    </tr><br/>


  </table>
</div>

</div>
<button class="boton-aux2" (click)="activarBusqueda();">Buscar usuarios de CS Music</button>


<!-- Busqueda de amigos --->

<div *ngIf="mostarBusquedaAmigos" class="agregar-amigos">
  <button class="boton-cierra-busq" (click)="cerrarBusqueda()">Cerrar Busqueda</button>

  <p class="text-busqu"> Introduzca el alias (Nick) del usuario a buscar</p>
  <input type="text" [(ngModel)]="nickBusca">

  <button  class="boton-busqueda" (click)="buscarAmigo()">Buscar</button>
  <p *ngIf="noEncuentra">
    El usuario especificado no se ha encontrado en la aplicación.
  </p><br/><br/>

  <!-- caso que encuentra el usuario -->
  <table class="tabla-busq" *ngIf="!noEncuentra && busqIniciada">
    <tr>
      <td rowspan="2" ><img class="foto-perfil-busq" src="../../assets/profile-pics/4.jpg"></td>
      <td>{{usuarioBuscado.nick}}</td>
    </tr>
    <tr> <td>{{usuarioBuscado.nombre}} {{usuarioBuscado.apellidos}}</td> </tr>
    <tr colspan="2"> <td></td> <td> <img width="4%"  src="../../assets/last.png">
      <i class="ultima-cancion"> Ultima reproducción</i> </td>
    </tr>
    <tr>
      <td></td>
      <td>
        <button *ngIf="!existeAmigo(usuarioBuscado.nick) && !esAutoBusqueda()"
                (click)="agregarAmigo()">Agregar amigo</button>
        <i *ngIf="existeAmigo(usuarioBuscado.nick)">En la lista de amigos</i>
       <i *ngIf="esAutoBusqueda()">No puedes añadirte a ti mismo</i>
      </td>
    </tr>
  </table>

  <!-- caso que encuentra el usuario -->


  <!-- caso que encuentra el usuario -->
</div>
