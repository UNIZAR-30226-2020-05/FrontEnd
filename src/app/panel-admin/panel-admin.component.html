<div *ngIf="esAdminLogeado()" class="vista-admin">
  <img class="logoSuperior" src="../../assets/logo-white.png" >
  <img (click)="mostrarLogin()" title="Cerrar Sesión" class="icono-logout" src="../../assets/logout.png"/>
  <p> - Panel de administrador - Operador:
    {{this.usuarioLogeadoAd.nombre}}  {{this.usuarioLogeadoAd.apellidos}} </p>

  <div class="panelAdmin">

    <button  (click)="vistaArtista(); gestArtistaAdd = true; gestArtistaDel = false;">
      ARTISTAS</button> <br/><br/>
    <button (click)="vistaAlbum(); nuevoAlbumAgregado= false;">ÁLBUMES</button> <br/><br/>
    <button (click)="vistaCancion(); ">CANCIONES</button>
    <hr/><br/>
    <i *ngIf="gestArtista || gestAlbum">    Opciones disponibles:
    </i><br/><br/>

    <button *ngIf="gestArtista" (click)="gestArtistaAdd = true; gestArtistaDel = false; vistaArtista(); existeArtista();" >
      AGREGAR</button><br/><br/>
    <button *ngIf="gestArtista" (click)="gestArtistaDel = true; gestArtistaAdd = false; artistaEliminado= false;
     existeArtista();" >
      ELIMINAR</button>

    <button *ngIf="gestAlbum" >AGREGAR</button><br/><br/>
    <button *ngIf="gestAlbum" >ELIMINAR</button>
  </div>

<div *ngIf="gestArtista">
  <p>Gestión de ARTISTAS</p>

  <div *ngIf="gestArtistaAdd">
    AÑADIR nuevo artista:<br/><br/>

    Nombre:<i style="color: red;" *ngIf="!artistaUnico">Artista ya incluído</i><br/>
    <input  type="text" [(ngModel)]="nuevoArtNom" (focusin)="existeArtista()"
            (focusout)="existeArtista()"><br/><br/>

   URL imagen: <br/>
    <input  type="text" [(ngModel)]="nuevoArtImg"><br/><br/>
    <img src="{{nuevoArtImg}}" class="img-artista"/><br/><br/>

    <button class="denegado" *ngIf="!nuevoAgregado && !artistaOk()">Añadir</button>
    <button *ngIf="!nuevoAgregado && artistaOk()" (click)="agregarArtista()">Añadir</button> &nbsp;
    <i *ngIf="nuevoAgregado">{{nuevoArtNom}} agregado al sistema</i>
  </div>

  <div *ngIf="gestArtistaDel">
    ELIMINAR artista:<br/><br/>
    <div *ngIf="!artistaEliminado">
    Artista a eliminar:<i style="color: red;" *ngIf="artistaUnico && nuevoArtNom!=''"> No existe este artista en el sistema</i><br/>
    <input  type="text" [(ngModel)]="nuevoArtNom" (ngModelChange)="existeArtista()"><br/><br/>
    </div>

    <i *ngIf="!artistaEliminado"> Se eliminará el artista y todos sus álbumes asociados.</i><br/><br/>
    <button class="denegado" *ngIf="!artistaEliminado && artistaUnico" >Eliminar</button>
    <button *ngIf="!artistaEliminado && !artistaUnico && nuevoArtNom!=''" (click)="eliminarArtista()">Eliminar</button> &nbsp;
    <i *ngIf="artistaEliminado">{{nuevoArtNom}} eliminado del sistema</i>
  </div>
</div>

<div  *ngIf="gestAlbum">
  <div *ngIf="!nuevoAlbumAgregado">
  <p>Gestión de ÁLBUMS</p>
  Añadir nuevo:<br/><br/>

  Artista autor:<i *ngIf="!nuevoAlbAutorExiste" style="color: red;">Artista no encontrado</i><br/>
  <input  type="text" [(ngModel)]="nuevoAlbAutor" (focusin)="existeAutor()"
          (focusout)="existeAutor()"><br/>

  Titulo del álbum:<br/>
  <input  type="text" [(ngModel)]="nuevoAlbTitulo" (focusin)="existeArtista()"
          (focusout)="existeArtista()"><br/>

  URL Caratula: <br/>
  <input  type="text" [(ngModel)]="nuevoAlbCarat"><br/><br/>

  Establecer canciones que contiene ({{nuevoAlbCanc.length}} actualmente)<br/><br/>

  Titulo canción:<br/>
  <input  type="text" [(ngModel)]="cancionTitulo"><br/>

  Duración:<br/>
  <input  type="time" [(ngModel)]="cancionDuracion"><br/>

  Fecha Subida:<br/>
  <input  type="date" [(ngModel)]="cancionFecha"><br/><br/>
  <button (click)="agregarUnaCancion()">Añadir Cancion</button> &nbsp;


  <button class="denegado" *ngIf="!albumOk()">Añadir</button> &nbsp;
  <button *ngIf="albumOk()" (click)="agregarAlbum()">Añadir</button> &nbsp;
  </div>
  <div *ngIf="nuevoAlbumAgregado"><br/>
    Agregado al sistema: <br/>
    <img src="{{nuevoAlbCarat}}" class="img-crea-album"/><br/><br/>
    Álbum <i>{{nuevoAlbTitulo}}</i> de
    <i>{{nuevoAlbAutor}}</i><br/>
    que contiene:<br/>
    <i *ngFor=" let cancion of nuevoAlbCanc; let i = index">
     Pista {{i+1}} {{cancion.nombre}} - {{cancion.duracion}}s. <br/>
    </i>
  </div>


</div>

<div *ngIf="gestCancion">
</div>
</div>
